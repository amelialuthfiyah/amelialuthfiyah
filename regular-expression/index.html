<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style/output.css">
    <title>Regular Expression</title>
</head>
<body class="bg-pink-300 min-h-screen py-20 px-10">
    <div class="w-full h-full max-w-screen mx-0">
        <div class="flex justify-center">
            <div class="flex-col">
                <p class="text-black font-bold text-2xl text-center">Regular Expressions</p>
            </div>
        </div>
    </div>
    <div class="flex flex-wrap mt-10 px-5 gap-5">
        <div class="w-[23rem]">
            <label for="nim" class="font-semibold text-black block leading-6">Username</label>
            <div class="mt-2">
                <input type="text" id="inputUsername" name="username" required class="block w-full rounded shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-500 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 p-2 py-1.5" placeholder="silahkan input username (tidak lebih dari 30 huruf)">
                <p id="validasiUsername" class="mt-1"></p>
            </div>
        </div>

        <div class="w-[23rem]">
            <label for="nim" class="font-semibold text-black block leading-6">Password</label>
            <div class="mt-2">
                <input type="text" id="inputPassword" name="password" required class="block w-full rounded shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-500 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 p-2 py-1.5" placeholder="minimal delapan huruf">
                <p id="validasiPassword" class="mt-1"></p>
            </div>
        </div>

        <div class="w-[23rem]">
            <label for="email" class="font-semibold text-black block leading-6">Email</label>
            <div class="mt-2">
                <input type="text" id="inputEmail" name="email" required class="block w-full rounded shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-500 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 p-2 py-1.5" placeholder="masukkan email anda">
                <p id="validasiEmail" class="mt-1"></p>
            </div>
        </div>

        <div class="w-[23rem]">
            <label for="email" class="font-semibold text-black block leading-6">Nomor Telepon</label>
            <div class="mt-2">
                <input type="text" id="inputNomor" name="nomor" required class="block w-full rounded shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-500 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 p-2 py-1.5" placeholder="masukkan nomor telepon">
                <p id="validasiNomor" class="mt-1"></p>
            </div>
        </div>

        <div class="w-[23rem]">
            <label for="kodepos" class="font-semibold text-black block leading-6">Kode Pos</label>
            <div class="mt-2">
                <input type="text" id="inputKode" name="kode" required class="block w-full rounded shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-500 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 p-2 py-1.5" placeholder="masukkan kode pos anda">
                <p id="validasiKode" class="mt-1"></p>
            </div>
        </div>

    </div>

    <script>
        let regexInputUsername = document.getElementById("inputUsername");
        let usernameValidasi = document.getElementById("validasiUsername");
        let regexInputPassword = document.getElementById("inputPassword");
        let passwordValidasi = document.getElementById("validasiPassword");
        let regexInputEmail = document.getElementById("inputEmail");
        let emailValidasi = document.getElementById("validasiEmail");
        let regexInputNomor = document.getElementById("inputNomor");
        let nomorValidasi = document.getElementById("validasiNomor");
        let regexInputKode = document.getElementById("inputKode");
        let kodeValidasi = document.getElementById("validasiKode");

        const REGEX_USERNAME = new RegExp("^[a-zA-Z0-9_]{1,30}$");
        const REGEX_PASSWORD = new RegExp("^.{8,}$");
        const REGEX_EMAIL = new RegExp ("^[^\s@]+@[^\s@]+.[^\s@]+$");
        const REGEX_NOMOR = new RegExp("^\\+?[0-9-]+$");
        const REGEX_KODE = new RegExp("^\\d{1,6}$");



        regexInputUsername.addEventListener("input", () => {
            handleInput(regexInputUsername, usernameValidasi, REGEX_USERNAME);
        });
        regexInputPassword.addEventListener("input", () => {
            handleInput(regexInputPassword, passwordValidasi, REGEX_PASSWORD);
        });
        regexInputEmail.addEventListener("input", () => {
            handleInput(regexInputEmail, emailValidasi, REGEX_EMAIL);
        });
        regexInputNomor.addEventListener("input", () => {
            handleInput(regexInputNomor, nomorValidasi, REGEX_NOMOR);
        });
        regexInputKode.addEventListener("input", () => {
            handleInput(regexInputKode, kodeValidasi, REGEX_KODE);
        });

        function handleInput(inputElement, validationElement, regex) {
            if (inputElement.value === "") {
                validationElement.classList.remove("text-black");
                validationElement.classList.remove("text-black");
                inputElement.classList.add("focus:ring-indigo-600");
                inputElement.classList.remove("focus:ring-red-500");
                inputElement.classList.remove("focus:ring-green-500");
                inputElement.classList.add("ring-grey-300");
                inputElement.classList.remove("ring-red-500");
                inputElement.classList.remove("ring-green-500");
                validationElement.innerHTML = "";
            } else if (regex.test(inputElement.value)) {
                validationElement.classList.add("text-black");
                validationElement.classList.remove("text-black");
                inputElement.classList.remove("focus:ring-indigo-600");
                inputElement.classList.remove("focus:ring-red-500");
                inputElement.classList.add("focus:ring-green-500");
                inputElement.classList.remove("ring-grey-300");
                inputElement.classList.remove("ring-red-500");
                inputElement.classList.add("ring-green-500");
                validationElement.innerHTML = "Valid";
            } else {
                validationElement.classList.add("text-black");
                validationElement.classList.remove("text-white");
                inputElement.classList.remove("focus:ring-indigo-600");
                inputElement.classList.remove("focus:ring-green-500");
                inputElement.classList.add("focus:ring-red-500");
                inputElement.classList.remove("ring-grey-300");
                inputElement.classList.remove("ring-green-500");
                inputElement.classList.add("ring-red-500");
                validationElement.innerHTML = "Invalid";
            }
        }
    </script>
</body>
</html>
